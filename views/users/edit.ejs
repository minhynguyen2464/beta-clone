<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Movie Ticket Website</title>
		<link
			rel="stylesheet"
			href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
		/>
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
			integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
			crossorigin="anonymous"
			referrerpolicy="no-referrer"
		/>
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&display=swap"
			rel="stylesheet"
		/>
		<link rel="stylesheet" href="../css/style.css" />
	</head>

	<body>
		<div
			style="width: 100%; background-color: black"
			class="text-white login-list"
		>
			<% if (userName!=null) { %>
			<ul class="container login-content">
				<li>
					<p style="margin-bottom: 0px">Xin chào! <%= userName %></p>
				</li>
				<li>
					<i class="fa-solid fa-door-open"></i>
					<a href="./logout" style="color: white; text-decoration: none"
						>Đăng xuất</a
					>
				</li>
			</ul>
			<% } else { %>
			<ul class="container login-content">
				<li>
					<i class="fa-solid fa-right-to-bracket"></i>
					<a href="./login" style="color: white; text-decoration: none"
						>Đăng nhập</a
					>
				</li>

				<li>
					<i class="fa-solid fa-pencil"></i>
					<a href="./register" style="color: white; text-decoration: none"
						>Đăng ký</a
					>
				</li>
			</ul>
			<% } %>
		</div>
		<div class="container">
			<div class="row">
				<div class="col-xl-16">
					<nav class="navbar navbar-expand-lg navbar-light bg-white">
						<a class="navbar-brand" href="../">Beta Quang Trung</a>
						<button
							class="navbar-toggler"
							type="button"
							data-toggle="collapse"
							data-target="#navbarNav"
							aria-controls="navbarNav"
							aria-expanded="false"
							aria-label="Toggle navigation"
						>
							<span class="navbar-toggler-icon"></span>
						</button>
						<div class="collapse navbar-collapse" id="navbarNav">
							<ul class="navbar-nav mx-auto">
								<li class="nav-item">
									<a class="nav-link text-dark" href="#">LỊCH CHIẾU THEO RẠP</a>
								</li>
								<li class="nav-item">
									<a class="nav-link text-dark" href="../../movie">PHIM</a>
								</li>
								<li class="nav-item">
									<a class="nav-link text-dark" href="#">RẠP</a>
								</li>
								<li class="nav-item">
									<a class="nav-link text-dark" href="#">GIÁ VÉ</a>
								</li>
								<li class="nav-item">
									<a class="nav-link text-dark" href="#">TIN MỚI VÀ ƯU ĐÃI</a>
								</li>
								<li class="nav-item">
									<a class="nav-link text-dark" href="#">NHƯỢNG QUYỀN</a>
								</li>
								<li class="nav-item">
									<a class="nav-link text-dark" href="#">THÀNH VIÊN</a>
								</li>
							</ul>
						</div>
					</nav>
				</div>
			</div>
		</div>

		<!-- Your content goes here -->
		<section style="background-color: #f8f8f8">
			<hr />
			<div class="container mt-4 section">
				<div class="row">
					<nav class="col-md-2 d-none d-md-block sidebar">
						<a href="#home">Thông tin chung</a>
						<a href="#about">Chi tiết tài khoản</a>
						<a href="#services">Điểm thưởng</a>
						<a href="./history">Lịch sử giao dịch</a>
					</nav>

					<main
						role="main"
						class="col-md-10 ml-sm-auto col-lg-10 px-md-4 content text-center"
					>
						<h2>THAY ĐỔI THÔNG TIN</h2>
						<form id="form-account">
							<div class="row justify-content-center">
								<!-- Left Side of the Form -->
								<div class="col-md-6">
									<div class="form-group">
										<label for="name">Name:</label>
										<input
											type="text"
											class="form-control"
											id="name"
											value="<%=user.name%>"
										/>
									</div>

									<div class="form-group">
										<label for="phone">Phone number:</label>
										<input
											type="tel"
											class="form-control"
											id="phone"
											value="<%=user.phoneNumber %>"
										/>
									</div>

									<div class="form-group">
										<label>Gender:</label>
										<% if (user.gender==='male' ) { %>
										<div class="form-check form-check-inline">
											<input
												class="form-check-input"
												type="radio"
												name="gender"
												id="male"
												value="male"
												checked
											/>
											<label class="form-check-label" for="male">Male</label>
										</div>
										<div class="form-check form-check-inline">
											<input
												class="form-check-input"
												type="radio"
												name="gender"
												id="female"
												value="female"
											/>
											<label class="form-check-label" for="female"
												>Female</label
											>
										</div>
										<% } %> <% if (user.gender==='female' ) { %>
										<div class="form-check form-check-inline">
											<input
												class="form-check-input"
												type="radio"
												name="gender"
												id="male"
												value="male"
											/>
											<label class="form-check-label" for="male">Male</label>
											<input
												class="form-check-input"
												type="radio"
												name="gender"
												id="female"
												value="female"
												checked
											/>
											<label class="form-check-label" for="female"
												>Female</label
											>
										</div>
										<% } %>
									</div>
									<div class="form-group">
										<label for="dob">Date of Birth:</label>
										<% const dobDate=new Date(user.dob); %> <% const
										formattedDate=dobDate.toISOString().split('T')[0]; %>
										<input
											type="date"
											class="form-control"
											id="dob"
											value="<%= formattedDate %>"
											disabled
										/>
									</div>

									<div class="form-group">
										<label for="email">Email:</label>
										<input
											type="email"
											class="form-control"
											id="email"
											value="<%=user.email%>"
											disabled
										/>
									</div>
								</div>

								<!-- Right Side of the Form -->
								<div class="col-md-6">
									<div class="form-group">
										<label for="city">City:</label>
										<select
											class="form-control"
											id="city"
											placeholder="Select your city"
										>
											<% if (user.city != null) { %> <% for (let index = 0;
											index < city.length; index++) { %> <% if
											(city[index].name.replace('Tỉnh', '').replace('Thành phố',
											'').trim() === user.city) { %>
											<option
												selected
												value="<%= city[index].name.replace('Tỉnh', '').replace('Thành phố', '').trim() %>"
											>
												<%= city[index].name.replace('Tỉnh', '').replace('Thành
												phố', '').trim() %>
											</option>
											<% } else { %>
											<option
												value="<%= city[index].name.replace('Tỉnh', '').replace('Thành phố', '').trim() %>"
											>
												<%= city[index].name.replace('Tỉnh', '').replace('Thành
												phố', '').trim() %>
											</option>
											<% } %> <% } %> <% } else { %> <% for (let index = 0;
											index < city.length; index++) { %>
											<option
												value="<%= city[index].name.replace('Tỉnh', '').replace('Thành phố', '').trim() %>"
											>
												<%= city[index].name.replace('Tỉnh', '').replace('Thành
												phố', '').trim() %>
											</option>
											<% } %> <% } %>
										</select>
									</div>

									<div class="form-group">
										<label for="address">Address:</label>
										<input
											type="text"
											class="form-control"
											id="address"
											value="<%=user.address %>"
										/>
									</div>

									<div class="form-group">
										<label for="oldPassword">Old Password:</label>
										<input
											type="password"
											class="form-control"
											id="oldPassword"
											placeholder="Enter your old password"
										/>
									</div>
								</div>
								<!-- Centered Buttons -->
								<div>
									<button type="submit" class="btn btn-success">
										Cập nhật
									</button>
									<button
										type="button"
										class="btn btn-danger"
										onclick="history.back()"
									>
										Quay lại
									</button>
								</div>
							</div>
						</form>
					</main>
				</div>

				<!-- Footer -->

				<footer class="text-black text-center py-3" style="clear: both">
					<hr />
					<div class="container">
						<p>&copy; 2024 Your Website Name. All Rights Reserved.</p>
					</div>
				</footer>
			</div>
			<hr />
		</section>
		<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
		<script src="../js/users/users-edit.js"></script>
	</body>
</html>
